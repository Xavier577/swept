@import "tailwindcss";

/* Enable class-based dark mode for Tailwind v4 */
@custom-variant dark (&:where(.dark, .dark *));

/* macOS-inspired base styles */
:root {
  --sidebar-bg: rgba(246, 246, 246, 0.8);
  --sidebar-border: rgba(0, 0, 0, 0.1);
  --content-bg: #ffffff;
  --text-primary: #1d1d1f;
  --text-secondary: #86868b;
  --accent: #007aff;
  --accent-hover: #0056b3;
  --danger: #ff3b30;
  --success: #34c759;
  --warning: #ff9500;
  --card-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06);
  --card-shadow-hover: 0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06);
}

/* Dark mode CSS variables */
.dark {
  --sidebar-bg: rgba(44, 44, 46, 0.8);
  --sidebar-border: rgba(255, 255, 255, 0.1);
  --content-bg: #1c1c1e;
  --text-primary: #f5f5f7;
  --text-secondary: #98989d;
  --accent: #0a84ff;
  --accent-hover: #409cff;
  --danger: #ff453a;
  --success: #30d158;
  --warning: #ff9f0a;
  --card-shadow: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2);
  --card-shadow-hover: 0 4px 6px rgba(0, 0, 0, 0.4), 0 2px 4px rgba(0, 0, 0, 0.3);
}

* {
  box-sizing: border-box;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'SF Pro Display', system-ui, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  background-color: var(--content-bg);
  color: var(--text-primary);
}

#root {
  min-height: 100vh;
}

/* Tauri title bar overlay support */
.titlebar-drag-region {
  height: 28px;
  -webkit-app-region: drag;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 100;
}

/* Sidebar needs padding for traffic lights */
.sidebar-with-titlebar {
  padding-top: 38px;
}

/* Content area padding for title bar */
.content-with-titlebar {
  padding-top: 38px;
}

/* Custom scrollbar for macOS look - Light mode */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(0, 0, 0, 0.3);
}

/* Custom scrollbar for macOS look - Dark mode */
.dark ::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

/* Dark mode base styles using Tailwind's dark: prefix utilities */
/* These styles complement the Tailwind classes used in components */

/* Sidebar dark mode */
.dark .sidebar-with-titlebar {
  background-color: rgba(44, 44, 46, 0.95);
  border-color: rgba(255, 255, 255, 0.1);
}

/* Dark mode background for main app container */
.dark .bg-white {
  background-color: #1c1c1e;
}

/* Ensure proper dark mode for borders */
.dark .border-gray-100 {
  border-color: rgba(255, 255, 255, 0.1);
}

.dark .border-gray-200 {
  border-color: rgba(255, 255, 255, 0.15);
}

/* Dark mode for input fields and interactive elements */
.dark input,
.dark select,
.dark textarea {
  background-color: #2c2c2e;
  border-color: rgba(255, 255, 255, 0.1);
  color: #f5f5f7;
}

.dark input:focus,
.dark select:focus,
.dark textarea:focus {
  border-color: var(--accent);
  outline: none;
}

/* Dark mode hover states */
.dark .hover\:bg-gray-50:hover {
  background-color: rgba(255, 255, 255, 0.05);
}

.dark .hover\:bg-gray-100:hover {
  background-color: rgba(255, 255, 255, 0.1);
}

.dark .hover\:bg-gray-200:hover {
  background-color: rgba(255, 255, 255, 0.15);
}

/* Dark mode for gray backgrounds */
.dark .bg-gray-50 {
  background-color: #2c2c2e;
}

.dark .bg-gray-100 {
  background-color: #3a3a3c;
}

.dark .bg-gray-200 {
  background-color: #48484a;
}

/* Dark mode for text colors */
.dark .text-gray-400 {
  color: #8e8e93;
}

.dark .text-gray-500 {
  color: #98989d;
}

.dark .text-gray-600 {
  color: #aeaeb2;
}

.dark .text-gray-700 {
  color: #c7c7cc;
}

.dark .text-gray-800 {
  color: #e5e5ea;
}

.dark .text-gray-900 {
  color: #f5f5f7;
}

/* Dark mode for specific component backgrounds */
.dark .bg-\[\#f5f5f7\] {
  background-color: #2c2c2e;
}

.dark .bg-\[\#f6f6f6\]\/80 {
  background-color: rgba(44, 44, 46, 0.9);
}

/* Dark mode for error states */
.dark .bg-red-50 {
  background-color: rgba(255, 69, 58, 0.1);
}

.dark .border-red-200 {
  border-color: rgba(255, 69, 58, 0.3);
}

.dark .text-red-700 {
  color: #ff6961;
}

/* Dark mode for success states */
.dark .bg-green-50 {
  background-color: rgba(48, 209, 88, 0.1);
}

.dark .text-green-700 {
  color: #4cd964;
}

/* Dark mode cards and panels */
.dark .shadow-sm {
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.4);
}

.dark .shadow-lg {
  box-shadow: 0 10px 15px rgba(0, 0, 0, 0.5), 0 4px 6px rgba(0, 0, 0, 0.3);
}

/* Dark mode for modal overlays */
.dark .bg-black\/50 {
  background-color: rgba(0, 0, 0, 0.7);
}

/* Size bar dark mode */
.dark .bg-gray-200.rounded-full {
  background-color: #3a3a3c;
}

/* Checkbox and toggle dark mode */
.dark .border-gray-300 {
  border-color: #48484a;
}

.dark .border-gray-300:hover {
  border-color: #636366;
}

/* Directory tree hover states */
.dark .hover\:bg-black\/5:hover {
  background-color: rgba(255, 255, 255, 0.05);
}

/* Dividers */
.dark .bg-black\/10 {
  background-color: rgba(255, 255, 255, 0.1);
}

.dark .border-black\/10 {
  border-color: rgba(255, 255, 255, 0.1);
}
